# competitor_config.yaml
# Competitor Analysis System Configuration

# LLM Configuration
llm:
  provider: "openai"  # Options: openai, anthropic, perplexity
  models:
    analysis: "gpt-4o"           # Model for detailed analysis
    summary: "gpt-4o-mini"       # Model for summaries
    comparison: "gpt-4o"         # Model for comparisons
  temperature: 0.3               # Lower for more consistent results
  max_tokens: 4000              # Maximum tokens per request
  fallback_model: "gpt-4o-mini" # Fallback if primary model fails

# Competitors to Analyze
competitors:
  - name: "Algolia"
    website: "https://www.algolia.com"
    focus_areas: ["search", "autocomplete", "recommendations", "analytics"]
    priority: "high"              # high, medium, low
    market_segment: ["enterprise", "mid-market"]
    competitive_threat: "high"    # critical, high, medium, low
    last_analyzed: null           # Auto-updated by system

  - name: "Constructor.io"
    website: "https://constructor.io"
    focus_areas: ["product_search", "browse", "recommendations", "quiz"]
    priority: "high"
    market_segment: ["enterprise", "mid-market"]
    competitive_threat: "high"

  - name: "Bloomreach"
    website: "https://www.bloomreach.com"
    focus_areas: ["discovery", "content", "personalization"]
    priority: "high"
    market_segment: ["enterprise"]
    competitive_threat: "medium"

  - name: "Elasticsearch"
    website: "https://www.elastic.co"
    focus_areas: ["search", "analytics", "logging", "security"]
    priority: "medium"
    market_segment: ["enterprise", "developer"]
    competitive_threat: "medium"

  - name: "Coveo"
    website: "https://www.coveo.com"
    focus_areas: ["search", "recommendations", "personalization", "AI"]
    priority: "high"
    market_segment: ["enterprise"]
    competitive_threat: "high"

  - name: "Unbxd"
    website: "https://unbxd.com"
    focus_areas: ["ecommerce_search", "personalization", "recommendations"]
    priority: "medium"
    market_segment: ["mid-market", "enterprise"]
    competitive_threat: "medium"

  - name: "Klevu"
    website: "https://www.klevu.com"
    focus_areas: ["smart_search", "recommendations", "analytics"]
    priority: "medium"
    market_segment: ["mid-market", "smb"]
    competitive_threat: "low"

# Analysis Configuration
analysis:
  depth_level: "standard"        # basic, standard, comprehensive
  
  # Web Scraping Settings
  scraping:
    delay_between_requests: 2    # Seconds between requests
    max_pages_per_site: 50       # Maximum pages to scrape per site
    timeout: 30                  # Request timeout in seconds
    concurrent_requests: 3       # Max concurrent requests
    rate_limit: 1.0             # Requests per second
    user_agent: "CompetitorAnalysis Bot 1.0"
    respect_robots_txt: true     # Follow robots.txt rules
  
  # Target Pages to Analyze
  target_pages:
    - path: "/"
      name: "homepage"
      priority: "high"
    - path: "/about"
      name: "about"
      priority: "medium"
    - path: "/products"
      name: "products"
      priority: "high"
    - path: "/pricing"
      name: "pricing"
      priority: "high"
    - path: "/customers"
      name: "customers"
      priority: "medium"
    - path: "/case-studies"
      name: "case_studies"
      priority: "high"
    - path: "/blog"
      name: "blog"
      priority: "medium"
    - path: "/careers"
      name: "careers"
      priority: "medium"
    - path: "/api"
      name: "api_docs"
      priority: "high"
    - path: "/docs"
      name: "documentation"
      priority: "high"
    - path: "/resources"
      name: "resources"
      priority: "medium"

# Data Sources Configuration
data_sources:
  # Company Websites (always enabled)
  company_websites: true
  
  # Job Boards
  job_boards:
    enabled: true
    sources: ["linkedin", "glassdoor", "indeed"]
    max_jobs_per_company: 20
    focus_departments: ["engineering", "product", "sales", "marketing", "data science"]
    cache_enabled: true
    cache_ttl_hours: 24
  
  # Funding Data
  funding_data:
    enabled: true
    sources: ["crunchbase"]  # Requires CRUNCHBASE_API_KEY
    cache_enabled: true
    cache_ttl_hours: 48      # Funding data changes less frequently
  
  # Social Media
  social_media:
    enabled: true
    platforms: ["linkedin", "twitter", "github", "youtube"]
    cache_enabled: true
    cache_ttl_hours: 12
  
  # GitHub Repositories
  github_repos:
    enabled: true
    analyze_public_repos: true
    track_contributions: true
    language_analysis: true
    max_repos_per_org: 50
    cache_enabled: true
    cache_ttl_hours: 6
  
  # News Sources
  news_sources:
    enabled: true
    sources: ["techcrunch", "venturebeat", "searchengineland"]
    days_back: 90            # Look back 90 days
    max_articles_per_source: 20
    cache_enabled: true
    cache_ttl_hours: 4       # News changes frequently
  
  # Review Sites
  review_sites:
    enabled: false           # Disabled by default (requires additional APIs)
    sources: ["g2", "capterra", "trustpilot"]
    cache_enabled: true
    cache_ttl_hours: 24
  
  # Patent Databases
  patent_databases:
    enabled: false           # Disabled by default (requires specific API access)
    sources: ["google_patents", "uspto"]
    cache_enabled: true
    cache_ttl_hours: 168     # Patents change weekly

# Output Configuration
output:
  formats: ["pdf", "json"]     # Available: pdf, docx, json
  output_dir: "competitor_reports"
  include_charts: true
  include_screenshots: false   # Requires additional setup
  include_competitive_matrix: true
  include_swot_analysis: true
  
  # PDF Report Settings
  pdf:
    brand_color: [52, 152, 219]  # RGB color for branding
    include_executive_summary: true
    include_detailed_profiles: true
    include_threat_matrix: true
    include_appendix: true
    font_size: 11
  
  # Word Document Settings
  docx:
    template: null              # Path to custom template (optional)
    include_toc: true           # Table of contents
    include_charts: true
  
  # JSON Export Settings
  json:
    pretty_print: true          # Format JSON for readability
    include_raw_data: false     # Include raw scraped data
    include_analysis_metadata: true

# Cache Configuration
cache:
  enabled: true
  cache_dir: "cache"           # Cache directory
  default_ttl_hours: 24        # Default time-to-live
  max_cache_size_mb: 500       # Maximum cache size
  cleanup_on_startup: false    # Clean expired cache on startup

# Monitoring and Alerts (Future Enhancement)
monitoring:
  enabled: false
  alert_on_new_funding: true
  alert_on_new_features: true
  alert_on_pricing_changes: true
  notification_channels: []    # Email, Slack, etc.

# Advanced Settings
advanced:
  # Parallel Processing
  max_concurrent_competitors: 3
  max_concurrent_pages: 5
  
  # Error Handling
  max_retries: 3
  retry_delay: 5               # Seconds
  continue_on_error: true      # Continue analysis if one competitor fails
  
  # Rate Limiting
  global_rate_limit: 10        # Max requests per minute across all sources
  respect_rate_limits: true
  
  # Data Quality
  min_content_length: 100      # Minimum content length to consider valid
  max_response_size_mb: 10     # Maximum response size to process
  
  # Security
  verify_ssl: true
  follow_redirects: true
  max_redirects: 5

# Environment Variables Required
# Core functionality:
#   - OPENAI_API_KEY or ANTHROPIC_API_KEY or PERPLEXITY_API_KEY
#
# Enhanced functionality (optional):
#   - CRUNCHBASE_API_KEY      (for funding data)
#   - GITHUB_TOKEN            (for better GitHub API limits)
#   - NEWS_API_KEY            (for news aggregation)
#   - TWITTER_BEARER_TOKEN    (for Twitter/X data)
#   - LINKEDIN_ACCESS_TOKEN   (for LinkedIn company data)
#   - GOOGLE_API_KEY          (for search and YouTube)
#   - GOOGLE_SEARCH_CX        (for custom search)